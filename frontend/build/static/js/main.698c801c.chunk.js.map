{"version":3,"sources":["components/common/loader.js","ProtectedRoute.js","actions/themeAction.js","components/common/navbar.js","hocs/DefaultLayout.js","components/auth/authGuide.js","components/auth/facebook.js","components/auth/google.js","components/auth/authProvider.js","views/login.js","routes.js","PublicRoute.js","assets/theme.js","App.js","index.js","actions/authAction.js","urls/auth.js","helpers/apiClient.js","websocket/socket.js","reducers/authReducer.js","reducers/themeReducer.js","reducers/chatRoomReducer.js","reducers/index.js","store/index.js","urls/chatRoom.js","actions/chatRoomAction.js","actions/chatRoomActionTypes.js","helpers/helperFunctions.js","actions/themeActionType.js","actions/authActionType.js"],"names":["Loader","style","height","display","justifyContent","alignItems","position","width","CircularProgress","NewComponent","Component","component","restProps","ProtectedRoute","React","memo","Layout","layout","rest","useState","authenticationPending","setAuthenticationPending","firstUpdate","useRef","isLoggedIn","useSelector","state","auth","getChatRoomPending","room","getUserDataPending","useLayoutEffect","console","log","exact","current","useEffect","path","props","noNavbar","navbar","navItems","homeIcon","fallback","className","to","location","pathname","slice","setTheme","theme","type","CHANGE_THEME","useStyles","makeStyles","AppBar","backgroundColor","secondary","hideMobile","breakpoints","down","title","flexGrow","menuButtonHidden","withRouter","connect","user","currentTheme","darkTheme","dispatch","logout","logoutUser","changeTheme","newTheme","localStorage","setItem","classes","history","useHistory","anchorThemeEl","setAnchorThemeEl","anchorAvatarEl","setAnchorAvatarEl","handleThemeBtnClose","Toolbar","Typography","variant","onClick","push","src","window","origin","Button","content","color","event","currentTarget","startIcon","Menu","id","anchorEl","keepMounted","open","Boolean","onClose","marginTop","MenuItem","Avatar","avatar","getInitials","first_name","last_name","reduce","a","b","substr","DefaultLayout","children","getItem","overflow","flexDirection","default","dark","palpatine","solarizedLight","solarizedDark","dracula","createChatRoom","data","handleSuccess","FacebookSocialAuth","textButton","appId","fields","callback","response","access_token","code","FacebookLoginFtn","loginPending","GoogleSocialAuth","googleResponse","JSON","stringify","GoogleLoginFtn","clientId","buttonText","onSuccess","onFailure","createRoomButton","margin","spacing","buttonsDiv","authDiv","Grid","StepLabel","Login","gridAutoFlow","Home","lazy","Rooms","Room","VideoView","protectedRoutes","publicRoutes","strictlyPublic","PublicRoute","next","search","includes","themes","primary","main","contrastText","background","paper","App","this","getUser","ThemeProvider","createMuiTheme","palette","map","route","index","getUserData","ReactDOM","render","store","document","getElementById","apiDispatch","actionType","payload","apiError","error","USER_API_ERROR","LOGIN_PENDING","axios","method","url","headers","then","res","SET_TOKEN","key","Cookies","set","expires","catch","status","non_field_errors","toast","IS_LOGGED_IN","GET_USER_DATA_PENDING","apiClient","get","SET_USER_DATA","removeItem","post","create","withCredentials","interceptors","request","use","config","getCookie","WebSocketService","stream","token","callbacks","socketRef","getState","chatroom_url","WebSocket","onopen","onmessage","e","socketNewMessage","onerror","onclose","close","action","func","parsedData","parse","message","Object","keys","length","send","err","waitForSocketConnection","jsonStr","peer","bind","readyState","self","setTimeout","WebSocketInstance","instance","getInstance","initialState","themeReducer","createChatRoomPending","getAllRommsPending","getAllMessagesPenging","currentRoom","roomsCreated","roomsInvited","userDimension","messages","appReducer","combineReducers","SET_CURRENT_ROOM","UPDATE_ROOMS_CREATED","SET_ALL_MESSAGES","GET_ALL_MESSAGES_PENDING","ADD_MESSAGE","SET_USER_DIMENSION","SET_ALL_ROOMS","created","invited","CREATE_CHAT_ROOM_PENDING","GET_ALL_ROOMS_PENDING","CHATROOM_API_ERROR","rootReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","thunk","chat_room","GET_CURRENT_CHAT_ROOM_PENDING","sharing_id","updateRoomUsers","patch","getRoomDetails","getAllMessages","getAllRooms","addMessage","msg","setUserDimension","dimension","cname","name","ca","decodeURIComponent","cookie","split","i","c","charAt","substring","indexOf","monthData","getModifiedDate","date","newDate","Date","getMonth","getDate","getFullYear","str","toUpperCase"],"mappings":"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","file":"static/js/main.698c801c.chunk.js","sourcesContent":["import { CircularProgress } from '@material-ui/core';\nimport React from 'react';\n\nconst Loader = () => {\n  return (\n    <div\n      style={{\n        height: '100%',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        position: 'absolute',\n        width: '100%'\n      }}\n    >\n      <div>\n        <CircularProgress />\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;","import React, {\n  Suspense,\n  useRef,\n  useLayoutEffect,\n  useState,\n  useEffect\n} from 'react'\nimport { useSelector } from 'react-redux'\nimport { Route, Redirect } from 'react-router-dom'\nimport Loader from './components/common/loader'\n\nconst NewComponent = ({ component: Component, ...restProps }) => {\n  return <Component {...restProps} />\n}\n\nconst ProtectedRoute = React.memo(\n  ({ layout: Layout, component: Component, ...rest }) => {\n    const [authenticationPending, setAuthenticationPending] = useState(true)\n    const firstUpdate = useRef(true)\n    const isLoggedIn = useSelector(state => state.auth.isLoggedIn)\n    const getChatRoomPending = useSelector(state => state.room.getChatRoomPending)\n    const getUserDataPending = useSelector(\n      state => state.auth.getUserDataPending\n    )\n\n    useLayoutEffect(() => {\n      console.log(rest)\n      console.log(rest.exact)\n      if (firstUpdate.current) {\n        firstUpdate.current = false\n        return\n      }\n      if (!getUserDataPending) {\n        setAuthenticationPending(false)\n      }\n    }, [getUserDataPending])\n\n    useEffect(() => {\n      if (isLoggedIn) {\n        setAuthenticationPending(false)\n      }\n    }, [isLoggedIn])\n\n    return (\n      <Route\n        path={rest.path}\n        exact={rest.exact}\n        component={props => {\n          return authenticationPending === true || getChatRoomPending ? (\n            <Loader />\n          ) : isLoggedIn ? (\n            <Layout\n              {...props}\n              noNavbar={rest.noNavbar}\n              navbar={rest.navbar}\n              navItems={rest.navItems}\n              homeIcon={rest.homeIcon}\n            >\n              <Suspense fallback={<div className='text-primary' />}>\n                <NewComponent component={Component} {...props} />\n              </Suspense>\n            </Layout>\n          ) : (\n            <Redirect to={`/login?next=${rest.location.pathname.slice(1)}`} />\n          )\n        }}\n      />\n    )\n  }\n)\n\nexport default ProtectedRoute\n","import {\n    CHANGE_THEME,\n} from './themeActionType'\n\nexport const setTheme = (theme) => {\n  console.log(theme)\n  return {\n    type: CHANGE_THEME,\n    theme: theme,\n  }\n}\n\nexport const changeTheme = (theme = \"default\") => {\n  console.log(theme)\n  return (dispatch) => {\n    dispatch(setTheme(theme));\n    localStorage.setItem(\"theme\", theme);\n  };\n};\n","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\nimport { Link, useHistory, withRouter } from 'react-router-dom'\nimport { makeStyles } from '@material-ui/core/styles'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport Brightness4RoundedIcon from '@material-ui/icons/Brightness4Rounded'\nimport Menu from '@material-ui/core/Menu'\nimport { logoutUser } from '../../actions/authAction'\nimport { Avatar, MenuItem } from '@material-ui/core'\nimport { changeTheme } from '../../actions/themeAction'\nimport { getInitials } from '../../helpers/helperFunctions'\nimport light from '../../assets/logo/default.png'\nimport dark from '../../assets/logo/dark.png'\nimport solarizedDark from '../../assets/logo/solarizedDark.png'\nimport solarizedLight from '../../assets/logo/solarizedLight.png'\nimport dracula from '../../assets/logo/dracula.png'\n\nconst useStyles = makeStyles(theme => ({\n  AppBar: {\n    backgroundColor: theme.secondary\n  },\n  hideMobile: {\n    [theme.breakpoints.down('xs')]: {\n      display: 'none',\n    },\n  },\n  title: {\n    flexGrow: 1\n  },\n  menuButtonHidden: {\n    display: 'none'\n  }\n}))\n\nconst NavBar = props => {\n  const classes = useStyles()\n  const history = useHistory()\n  console.log(props.currentTheme)\n  const [anchorThemeEl, setAnchorThemeEl] = useState(null)\n  const [anchorAvatarEl, setAnchorAvatarEl] = useState(null)\n\n  const handleAvatarBtnClick = event => {\n    console.log(event.currentTarget)\n    setAnchorAvatarEl(event.currentTarget)\n  }\n\n  const handleAvatarBtnClose = () => {\n    console.log('close')\n    setAnchorAvatarEl(null)\n  }\n\n  const handleThemeBtnClick = event => {\n    setAnchorThemeEl(event.currentTarget)\n  }\n\n  const handleThemeBtnClose = () => {\n    setAnchorThemeEl(null)\n  }\n\n  return (\n    <AppBar position='static'>\n      <Toolbar>\n        <Typography variant='h6' className={classes.title}>\n          <img onClick={() => history.push('/login?next=')} style={{'cursor': 'pointer'}} src={`${window.location.origin}/${props.currentTheme}.png`} />\n        </Typography>\n        <Button\n          aria-controls='simple-theme-menu'\n          content='themes'\n          aria-haspopup='true'\n          color='inherit'\n          className='header-title-button'\n          onClick={handleThemeBtnClick}\n          startIcon={<Brightness4RoundedIcon />}\n        >\n          <span className={classes.hideMobile}>Themes</span>\n        </Button>\n        <Menu\n          id='simple-theme-menu'\n          anchorEl={anchorThemeEl}\n          keepMounted\n          open={Boolean(anchorThemeEl)}\n          onClose={handleThemeBtnClose}\n          style={{ marginTop: '30px' }}\n        >\n          <MenuItem\n            className={props.currentTheme === 'default' && 'active-menu-option'}\n            onClick={() => {\n              handleThemeBtnClose()\n              props.changeTheme('default')\n            }}\n          >\n            Light\n          </MenuItem>\n          <MenuItem\n            className={props.currentTheme === 'dark' && 'active-menu-option'}\n            onClick={() => {\n              handleThemeBtnClose()\n              props.changeTheme('dark')\n            }}\n          >\n            Dark\n          </MenuItem>\n          <MenuItem\n            className={\n              props.currentTheme === 'solarizedLight' && 'active-menu-option'\n            }\n            onClick={() => {\n              handleThemeBtnClose()\n              props.changeTheme('solarizedLight')\n            }}\n          >\n            Solarized Light\n          </MenuItem>\n          <MenuItem\n            className={\n              props.currentTheme === 'solarizedDark' && 'active-menu-option'\n            }\n            onClick={() => {\n              handleThemeBtnClose()\n              props.changeTheme('solarizedDark')\n            }}\n          >\n            Solarized Dark\n          </MenuItem>\n          <MenuItem\n            className={props.currentTheme === 'dracula' && 'active-menu-option'}\n            onClick={() => {\n              handleThemeBtnClose()\n              props.changeTheme('dracula')\n            }}\n          >\n            Dracula\n          </MenuItem>\n        </Menu>\n        {props.user ? (\n          <div>\n            <Button\n              aria-controls='avatar-dropdown'\n              content='avatar'\n              aria-haspopup='true'\n              color='inherit'\n              // className='header-title-button'\n              onClick={handleAvatarBtnClick}\n              startIcon={\n                <Avatar\n                  // aria-controls='avatar-dropdown'\n                  // content='themes'\n                  // aria-haspopup='true'\n                  color='inherit'\n                  className={classes.avatar}\n                >\n                  {getInitials(\n                    props.user.first_name + ' ' + props.user.last_name\n                  )\n                    .reduce((a, b) => a + b, '')\n                    .substr(0, 2)}\n                </Avatar>\n              }\n            >\n              <span className={classes.hideMobile}>{props.user.first_name}</span>\n            </Button>\n            <Menu\n              id='avatar-dropdown'\n              anchorEl={anchorAvatarEl}\n              // keepMounted\n              open={Boolean(anchorAvatarEl)}\n              onClose={handleAvatarBtnClose}\n              style={{ marginTop: '30px' }}\n              onClick={() => props.logout}\n              // style={{ marginTop: '30px' }}\n            >\n              <MenuItem onClick={props.logout}>Logout</MenuItem>\n            </Menu>\n          </div>\n        ) : (\n          ''\n        )}\n      </Toolbar>\n    </AppBar>\n  )\n}\n\nconst mapStateToprops = state => {\n  return {\n    user: state.auth.user,\n    currentTheme: state.theme.theme,\n    darkTheme:\n      state.theme.theme == 'dark' ||\n      state.theme.theme == 'solarizedDark' ||\n      state.theme.theme == 'palpatine' ||\n      state.theme.theme == 'dracula'\n  }\n}\n\nconst mapDispatchToprops = dispatch => {\n  return {\n    logout: () => {\n      return dispatch(logoutUser())\n    },\n    changeTheme: newTheme => {\n      console.log('hrere')\n      return dispatch(changeTheme(newTheme))\n    }\n    // toggleDrawer: val => dispatch(themeActions.toggleDrawer(val))\n  }\n}\n\nexport default withRouter(connect(mapStateToprops, mapDispatchToprops)(NavBar))\n","import React from 'react'\nimport NavBar from '../components/common/navbar'\n// import themes from '../assets/theme'\n\nconst DefaultLayout = ({ children }) => {\n  const theme = localStorage.getItem('theme')\n  // console.log(themes)\n  // console.log(theme)\n  // console.log(themes[theme].primary.main)\n  const themeColors = {\n    default: '#ffffff',\n    dark: '#242526',\n    palpatine: '#ffffff',\n    solarizedLight: '#eee8d5',\n    solarizedDark: '#0e2a35',\n    dracula: '#282a36'\n  }\n  return (\n    <div>\n      <main\n        style={{\n          height: '100vh',\n          overflow: 'hidden',\n          display: 'flex',\n          flexDirection: 'column'\n        }}\n      >\n        {/* {' '} */}\n        <NavBar />\n        <div\n          style={{ height: '100vh', backgroundColor: themeColors[theme] }}\n          className='w-100 fg-100 overflow-auto position-relative'\n        >\n          {children}\n        </div>\n      </main>\n    </div>\n  )\n}\n\nexport default DefaultLayout\n","import React, {Component} from 'react'\nimport { connect } from 'react-redux'\nimport { useHistory, withRouter } from 'react-router-dom'\nimport { Button, Grid, Paper, TextField } from '@material-ui/core'\nimport { createChatRoom } from '../../actions/chatRoomAction'\n\nconst AuthGuide = (props) => {\n  const history = useHistory()\n    return (\n      <div>\n          Auth Guide\n      </div>\n    )\n}\n\nconst mapStateToprops = state => {\n  return {\n    user: state.auth.user,\n  }\n}\n\nconst mapDispatchToprops = dispatch => {\n  return {\n    createChatRoom: (data, handleSuccess) => {\n      return dispatch(createChatRoom(data, handleSuccess))\n    },\n  }\n}\n\nexport default withRouter(\n  connect(mapStateToprops, mapDispatchToprops)(AuthGuide)\n)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport FacebookLogin from 'react-facebook-login'\nimport { FacebookLoginFtn } from '../../actions/authAction'\n// import facebookLogin from '../../auth/fblogin'\nimport './css/authProvider.css'\n\nclass FacebookSocialAuth extends Component {\n  render () {\n    const fbResponse = response => {\n      console.log('success')\n      console.log(response)\n      let data = {\n        access_token: response['accessToken'],\n        code: response['userID']\n      }\n      console.log(data)\n      this.props.FacebookLoginFtn(data)\n    }\n    return (\n      <FacebookLogin\n        textButton='LOGIN WITH FACEBOOK'\n        appId='514560663329207'\n        fields='name,email,picture'\n        // cssClass=\"btnFacebook\"\n        callback={fbResponse}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user,\n    loginPending: state.auth.loginPending\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    FacebookLoginFtn: data => {\n      return dispatch(FacebookLoginFtn(data))\n    }\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FacebookSocialAuth)\n","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport GoogleLogin from 'react-google-login'\nimport { GoogleLoginFtn } from '../../actions/authAction'\nimport './css/authProvider.css'\n// import googleLogin from '../../auth/googlelogin';\n// import { useDispatch } from 'react-redux';\n\nclass GoogleSocialAuth extends Component {\n  render () {\n    // const googleResponse = (response) => {\n    //   console.log(response);\n    //   googleLogin(response['accessToken'], response['googleId']);\n    // }\n    const googleResponse = response => {\n      console.log('success')\n      console.log(response)\n      let data = {\n        access_token: response['accessToken'],\n        code: response['googleId']\n      }\n      data = JSON.stringify(data)\n      this.props.GoogleLoginFtn(data)\n    }\n    return (\n      <GoogleLogin\n        clientId='505402258596-eo28agt8peogpfa7hp10s0dv7r5555ag.apps.googleusercontent.com'\n        buttonText='LOGIN WITH GOOGLE'\n        onSuccess={googleResponse}\n        onFailure={googleResponse}\n      />\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user,\n    loginPending: state.auth.loginPending\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    GoogleLoginFtn: data => {\n      return dispatch(GoogleLoginFtn(data))\n    }\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(GoogleSocialAuth)\n","import React, { Component, useState } from 'react'\nimport { connect } from 'react-redux'\nimport { useHistory, withRouter } from 'react-router-dom'\nimport { Button, Grid, Paper, StepLabel, TextField } from '@material-ui/core'\nimport { createChatRoom } from '../../actions/chatRoomAction'\nimport VideoCallIcon from '@material-ui/icons/VideoCall'\nimport { makeStyles } from '@material-ui/styles'\nimport FacebookSocialAuth from './facebook'\nimport GoogleSocialAuth from './google'\n\nconst useStyles = makeStyles(theme => ({\n  createRoomButton: {\n    margin: theme.spacing(2)\n  },\n  buttonsDiv: {\n    marginTop: theme.spacing(2)\n  },\n  authDiv: {\n      marginTop: theme.spacing(2),\n      display: 'flex'\n  }\n}))\nconst AuthProvider = props => {\n  const history = useHistory()\n  const classes = useStyles()\n\n  return (\n    <Grid>\n      <StepLabel>We provide premium quality video calls.</StepLabel>\n      <StepLabel>\n        Enjoy video calling with different themes. You are just a click away.\n      </StepLabel>\n      <div className={classes.authDiv}>\n        <FacebookSocialAuth />\n        <GoogleSocialAuth />\n      </div>\n    </Grid>\n  )\n}\n\nconst mapStateToprops = state => {\n  return {\n    user: state.auth.user\n  }\n}\n\nconst mapDispatchToprops = dispatch => {\n  return {\n    createChatRoom: (data, handleSuccess) => {\n      return dispatch(createChatRoom(data, handleSuccess))\n    }\n  }\n}\n\nexport default withRouter(\n  connect(mapStateToprops, mapDispatchToprops)(AuthProvider)\n)\n","import { Button, Card, Grid, Link, Paper } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/styles'\nimport React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Redirect, useHistory } from 'react-router'\nimport { logoutUser } from '../actions/authAction'\nimport AuthGuide from '../components/auth/authGuide'\nimport AuthProvider from '../components/auth/authProvider'\nimport FacebookSocialAuth from '../components/auth/facebook'\nimport GoogleSocialAuth from '../components/auth/google'\nimport Loader from '../components/common/loader'\n\nconst useStyles = makeStyles(theme => ({\n  Login: {\n    display: 'grid',\n    gridAutoFlow: 'column',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    height: '100%',\n  }\n}))\n\nconst LoginView = props => {\n  const classes = useStyles()\n  return props.getUserDataPending || props.loginPending ? (\n    <Loader />\n  ) : (\n    <Grid className={classes.Login}>\n      <AuthProvider />\n      {/* <AuthGuide /> */}\n    </Grid>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user,\n    loginPending: state.auth.loginPending,\n    getUserDataPending: state.auth.getUserDataPending,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    logoutUser: () => {\n      return dispatch(logoutUser())\n    }\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginView)\n","import React from 'react';\nimport DefaultLayout from './hocs/DefaultLayout';\n\nimport Login from './views/login';\n\nconst Home = React.lazy(() => import('./views/home'));\nconst Rooms = React.lazy(() => import('./views/rooms'));\nconst Room = React.lazy(() => import('./views/room'));\nconst VideoView = React.lazy(() => import('./views/video'));\n\nexport const protectedRoutes = [\n  {\n    path: '/',\n    exact: true,\n    layout: DefaultLayout,\n    component: () => <Home />,\n  },\n  {\n    path: '/video/:id/:code',\n    exact: true,\n    layout: DefaultLayout,\n    component: () => <VideoView />,\n  },\n  {\n    path: '/rooms',\n    exact: true,\n    layout: DefaultLayout,\n    component: () => <Rooms />,\n  },\n  {\n    path: '/room/:id',\n    exact: true,\n    layout: DefaultLayout,\n    component: () => <Room />,\n  },\n];\n\nexport const publicRoutes = [\n  {\n    path: '/login',\n    exact: true,\n    layout: DefaultLayout,\n    component: () => <Login />,\n    strictlyPublic: true,\n  },\n];","import React, { Suspense } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst NewComponent = ({ component: Component, ...restProps }) => {\n  return <Component {...restProps} />;\n};\n\nconst PublicRoute = ({\n  layout: Layout,\n  component: Component,\n  strictlyPublic = false,\n  ...rest\n}) => {\n  const isLoggedIn = useSelector(state => state.auth.isLoggedIn);\n  var next = '';\n  if(rest.location.search.includes('next')){\n    next = rest.location.search.slice(6);\n  }\n  return (\n    <Route\n      path={rest.path}\n      exact={rest.exact}\n      component={props => {\n        return !strictlyPublic || isLoggedIn !== true ? (\n          <Layout\n            {...props}\n            noNavbar={rest.noNavbar}\n            navbar={rest.navbar}\n            navItems={rest.navItems}\n            homeIcon={rest.homeIcon}\n          >\n            <Suspense fallback={<div className=\"text-primary\" />}>\n              <NewComponent component={Component} {...props} />\n            </Suspense>\n          </Layout>\n        ) : (\n          \n          <Redirect to={`/${next}`}  />\n        );\n      }}\n    />\n  );\n};\n\nexport default PublicRoute;","const themes = {\n    solarizedDark: {\n      type: \"dark\",\n      primary: { main: \"#002b36\", contrastText: \"#eee8d5\" },\n      secondary: { main: \"#eee8d5\", contrastText: \"#0e2a35\" },\n      background: { default: \"#09232c\", paper: \"#002b36\" },\n    },\n    solarizedLight: {\n      type: \"light\",\n      primary: { main: \"#fff7dd\", contrastText: \"#002b36\" },\n      secondary: { main: \"#708090\", contrastText: \"#eee8d5\" },\n      background: { default: \"#eee8d5\", paper: \"#fff7dd\" },\n    },\n    palpatine: {\n      type: \"dark\",\n      primary: { main: \"#1a1a1a\", contrastText: \"#ffffff\" },\n      secondary: { main: \"#e04035\", contrastText: \"#ffffff\" },\n      background: { default: \"#101010\", paper: \"#1b1b1b\" },\n    },\n    default: {\n      type: \"light\",\n      primary: { main: \"#ffffff\", contrastText: \"#000000\" },\n      secondary: { main: \"#356fff\", contrastText: \"#ffffff\" },\n      background: { default: \"#f0f2f5\", paper: \"#ffffff\" },\n    },\n    dark: {\n      type: \"dark\",\n      primary: { main: \"#282828\", contrastText: \"#ffffff\" },\n      secondary: { main: \"#757575\", contrastText: \"#ffffff\" },\n      background: { default: \"#18191a\", paper: \"#242526\" },\n    },\n    dracula: {\n      type: \"dark\",\n      primary: { main: \"#44475a\", contrastText: \"#bd93f9\" },\n      secondary: { main: \"#bd93f9\", contrastText: \"#f8f8f2\" },\n      background: { default: \"#20222c\", paper: \"#282a36\" },\n    },\n  };\n  \n  export default themes;","import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { Switch, BrowserRouter as Router } from 'react-router-dom'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles'\nimport ProtectedRoute from './ProtectedRoute'\nimport { publicRoutes, protectedRoutes } from './routes'\nimport { ContextProvider } from './Context'\n// import { useDispatch, useSelector } from 'react-redux'\nimport PublicRoute from './PublicRoute'\nimport { getUserData } from './actions/authAction'\nimport themes from './assets/theme'\nimport { Toaster } from 'react-hot-toast'\n\nconst theme = theme =>\n  createMuiTheme({\n    palette: themes[theme]\n  })\n\nclass App extends Component {\n  componentDidMount () {\n    this.props.getUser()\n  }\n  // componentDidUpdate (prevProps) {\n  //   if (prevProps.isLoggedIn != this.props.isLoggedIn) {\n  //     this.props.getUser()\n  //   }\n  // }\n  render () {\n    // const { isLoginPending } = this.props\n    return (\n      <ThemeProvider theme={theme(this.props.currentTheme)}>\n      <Toaster />\n      {/* <ContextProvider> */}\n        <Router>\n          <Switch>\n            {publicRoutes.map((route, index) => (\n              <PublicRoute\n                key={index}\n                strictlyPublic={route.strictlyPublic}\n                layout={route.layout}\n                path={route.path}\n                exact={route.exact}\n                component={route.component}\n              />\n            ))}\n            {protectedRoutes.map((route, index) => (\n              <ProtectedRoute\n                key={index}\n                layout={route.layout}\n                path={route.path}\n                exact={route.exact}\n                component={route.component}\n              />\n            ))}\n          </Switch>\n        </Router>\n        {/* </ContextProvider> */}\n      </ThemeProvider>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    user: state.auth.user,\n    isLoggedIn: state.auth.isLoggedIn,\n    loginPending: state.auth.loginPending,\n    currentTheme: state.theme.theme\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    // logoutUser: () => {\n    //   return dispatch(logoutUser())\n    // },\n    getUser: () => {\n      return dispatch(getUserData())\n    }\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from \"react-router-dom\";\nimport store from './store'\nimport App from './App';\nimport './index.css';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n","import axios from 'axios'\nimport apiClient from '../helpers/apiClient'\nimport Cookies from 'js-cookie'\n\nimport {\n  SET_USER_DATA,\n  GET_USER_DATA,\n  SET_TOKEN,\n  LOGIN_PENDING,\n  GET_USER_DATA_PENDING,\n  USER_API_ERROR,\n  IS_LOGGED_IN\n} from './authActionType'\n\nimport { facebook_login, google_login, who_am_i, logout } from '../urls/auth'\nimport toast, { Toaster } from 'react-hot-toast'\n\nconst apiDispatch = (actionType = '', data) => {\n  return {\n    type: actionType,\n    payload: data\n  }\n}\n\nconst apiError = error => {\n  return {\n    type: USER_API_ERROR,\n    error\n  }\n}\n\nexport const GoogleLoginFtn = data => {\n  let url = google_login\n  return dispatch => {\n    dispatch(apiDispatch(LOGIN_PENDING, true))\n    axios({\n      method: 'POST',\n      url: url,\n      data: data,\n      headers: { 'Content-type': 'application/json; charset=UTF-8' }\n    })\n      .then(res => {\n        console.log('done')\n        console.log(res)\n        dispatch(apiDispatch(SET_TOKEN, res.data.key))\n        Cookies.set('token', res.data.key, { expires: 7 })\n        dispatch(apiDispatch(LOGIN_PENDING, false))\n        // localStorage.setItem(\"token\", res.data.key);\n        // dispatch(apiDispatch(IS_LOGGED_IN, true))\n        dispatch(getUserData())\n      })\n      .catch(error => {\n        if (\n          error.response.status === 400 &&\n          error.response.data &&\n          error.response.data.non_field_errors ===\n            'User is already registered with this e-mail address.'\n        ) {\n          toast.error('User email already registered with Facebook.')\n        }\n        else{\n            toast.error(\"Error occured while login.\")\n        }\n        dispatch(apiError(error))\n        dispatch(apiDispatch(LOGIN_PENDING, false))\n        dispatch(apiDispatch(IS_LOGGED_IN, false))\n      })\n  }\n}\n\nexport const FacebookLoginFtn = data => {\n  let url = facebook_login\n  return dispatch => {\n    dispatch(apiDispatch(LOGIN_PENDING, true))\n    axios({\n      method: 'POST',\n      url: url,\n      data: data\n    })\n      .then(res => {\n        console.log('done')\n        console.log(res)\n        dispatch(apiDispatch(SET_TOKEN, res.data.key))\n        Cookies.set('token', res.data.key, { expires: 7 })\n        dispatch(apiDispatch(LOGIN_PENDING, false))\n        // localStorage.setItem(\"token\", res.data.key);\n        // dispatch(apiDispatch(IS_LOGGED_IN, true))\n        dispatch(getUserData())\n      })\n      .catch(error => {\n        if (\n          error.response.status === 400 &&\n          error.response.data &&\n          error.response.data.non_field_errors ===\n            'User is already registered with this e-mail address.'\n        ) {\n          toast.error('User email already registered with Google.')\n        }\n        else{\n            toast.error(\"Error occured while login.\")\n        }\n        dispatch(apiError(error))\n        dispatch(apiDispatch(LOGIN_PENDING, false))\n        dispatch(apiDispatch(IS_LOGGED_IN, false))\n      })\n  }\n}\n\nexport const getUserData = () => {\n  console.log('fetch data')\n  let url = who_am_i\n\n  return dispatch => {\n    dispatch(apiDispatch(GET_USER_DATA_PENDING, true))\n    apiClient\n      .get(url)\n      .then(res => {\n        console.log(res.data)\n        dispatch(apiDispatch(SET_USER_DATA, res.data))\n        dispatch(apiDispatch(IS_LOGGED_IN, true))\n        dispatch(apiDispatch(GET_USER_DATA_PENDING, false))\n      })\n      .catch(error => {\n        dispatch(apiError(error))\n        dispatch(apiDispatch(GET_USER_DATA_PENDING, false))\n        dispatch(apiDispatch(SET_USER_DATA, null))\n        dispatch(apiDispatch(SET_TOKEN, ''))\n        localStorage.removeItem('token')\n        dispatch(apiDispatch(IS_LOGGED_IN, false))\n      })\n  }\n}\n\nexport const logoutUser = () => {\n  console.log('fetch data')\n  let url = logout\n\n  return dispatch => {\n    apiClient\n      .post(url)\n      .then(res => {\n        console.log(res.data)\n        dispatch(apiDispatch(IS_LOGGED_IN, false))\n        dispatch(apiDispatch(SET_USER_DATA, null))\n        dispatch(apiDispatch(SET_TOKEN, ''))\n        localStorage.removeItem('token')\n      })\n      .catch(error => {\n        dispatch(apiError(error))\n      })\n  }\n}\n","export const facebook_login = '/rest-auth/facebook/';\nexport const google_login = '/rest-auth/google/';\nexport const who_am_i = '/rest-auth/user/';\nexport const logout = '/rest-auth/logout/';\n","// import axios from 'axios';\n// import Cookies from 'js-cookie';\n\n// import store from '../store';\n// store.subscribe(listener)\n\n// let token = '';\n\n// // function select(state) {\n// //   return state.auth.token\n// // }\n\n// function listener() {\n//   // let tokendata = select(store.getState())\n//   // console.log(\"listen\")\n//   // console.log(tokendata)\n//   token = Cookies.get('token');\n// }\n\n// const apiClient = axios.create({\n//     headers: {\n//         \"Content-type\": \"application/json; charset=UTF-8\",\n//     },\n//     withCredentials: true,\n// });\n\n\n// apiClient.interceptors.request.use(function (config) {\n//   config.headers[\"Authorization\"] = 'Token ' + Cookies.get(\"token\");\n//   return config;\n// });\n\n// export default apiClient;\n\n\nimport axios from 'axios';\nimport { getCookie } from './helperFunctions';\n\nconst apiClient = axios.create({\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n    'Cache-Control': 'no-cache',\n  },\n});\n\napiClient.interceptors.request.use(function (config) {\n  config.headers['X-CSRFToken'] = getCookie('teams_csrftoken');\n  return config;\n});\n\nexport default apiClient;\n\n// import axios from 'axios';\n// import { getCookie } from './helperFunctions';\n\n// const apiClient = axios.create({\n//   baseURL: 'api/',\n//   withCredentials: true,\n//   headers: {\n//     'Content-Type': 'application/json',\n//     'Cache-Control': 'no-cache',\n//   },\n// });\n\n// apiClient.interceptors.request.use(function (config) {\n//   config.headers['X-CSRFToken'] = getCookie('wellness_csrftoken');\n//   return config;\n// });\n\n// export default apiClient;","import store from '../store'\n\nclass WebSocketService {\n  static instance = null\n  stream = null\n  token = null\n  config  = null\n  callbacks = {}\n\n  static getInstance () {\n    if (!WebSocketService.instance) {\n      WebSocketService.instance = new WebSocketService()\n    }\n    return WebSocketService.instance\n  }\n\n  constructor () {\n    this.socketRef = null\n    // this.stream = new MediaStream()\n    // console.log(this.stream)\n    \n    console.log(store.getState().auth)\n  }\n\n  connect (chatroom_url) {\n      console.log(\"chat url \" + chatroom_url)\n    this.socketRef = new WebSocket(chatroom_url)\n    this.socketRef.onopen = () => {\n      console.log('websocket open')\n      // this.sendMessage({ message: 'hello world' })\n    }\n    this.socketRef.onmessage = e => {\n      this.socketNewMessage(e.data)\n    }\n    this.socketRef.onerror = e => {\n      console.log(e)\n      // this.connect(chatroom_url)\n    }\n    this.socketRef.onclose = () => {\n      console.log('websockets closed lets reopen')\n      // this.connect(chatroom_url)\n    }\n  }\n\n  close () {\n    this.socketRef && this.socketRef.close()\n  }\n\n  on (action, func) {\n    this.callbacks[action] = func;\n  }\n\n  socketNewMessage (data) {\n    const parsedData = JSON.parse(data)\n    var peerusername = parsedData['peer']\n    var action = parsedData['action']\n    var message = parsedData['message']\n    if(Object.keys(this.callbacks).length == 0){\n        return;\n    }\n    this.callbacks[action](message);\n  }\n\n  getSteam () {\n    return this.stream;\n  }\n\n  sendMessage (data) {\n    try {\n      this.socketRef.send(JSON.stringify({ ...data }))\n    } catch (err) {\n      console.log(err.message)\n    }\n  }\n\n  sendSignal(action, message) {\n    try {\n      this.waitForSocketConnection(\n        function () {\n          var jsonStr = JSON.stringify({\n            peer: store.getState().auth.user,\n            action: action,\n            message: message\n          })\n      \n          this.socketRef.send(jsonStr)\n        }.bind(this),\n        1000\n      );\n    } catch (err) {\n      console.log(err.message);\n    }\n  }\n\n  state () {\n    return this.socketRef.readyState\n  }\n\n  waitForSocketConnection (callback) {\n    var self = this\n    setTimeout(function () {\n      // Check if websocket state is OPEN\n      if (WebSocketInstance.state() === 1) {\n        console.log('Connection is made')\n        callback()\n        console.log(this)\n        return\n      } else {\n        console.log('wait for connection...')\n        console.log(this)\n        self.waitForSocketConnection(callback)\n      }\n    }, 100) // wait 100 milisecond for the connection...\n  }\n}\n\nconst WebSocketInstance = WebSocketService.getInstance()\n\nexport default WebSocketInstance\n","import {\n  SET_USER_DATA,\n  GET_USER_DATA,\n  SET_TOKEN,\n  LOGIN_PENDING,\n  GET_USER_DATA_PENDING,\n  IS_LOGGED_IN,\n  USER_API_ERROR\n} from '../actions/authActionType'\n\nconst initialPendingState = {\n  loginPending: false,\n  getUserDataPending: false,\n}\n\nconst initialState = {\n  ...initialPendingState,\n  // _id: null,\n  user: {},\n  token: '',\n  isLoggedIn: false,\n  error: null\n}\n\nexport default function authReducer (\n  state = initialState,\n  { type, payload, error }\n) {\n  switch (type) {\n    case SET_TOKEN:\n      return { ...state, token: payload }\n    case SET_USER_DATA:\n      return { ...state, user: payload }\n    case LOGIN_PENDING:\n      return { ...state, loginPending: payload }\n    case GET_USER_DATA_PENDING:\n        return { ...state, getUserDataPending: payload}\n    case IS_LOGGED_IN:\n      return { ...state, isLoggedIn: payload }\n    case USER_API_ERROR:\n      return { ...state, error: payload }\n    default:\n      return state\n  }\n}\n","import { CHANGE_THEME } from '../actions/themeActionType'\n\nconst initialState = {\n  theme: localStorage.getItem('theme') || 'default'\n}\n\nconst themeReducer = (state = initialState, { type, theme }) => {\n  switch (type) {\n    case CHANGE_THEME:\n      console.log(theme)\n      return { ...state, theme: theme }\n    default:\n      return state\n  }\n}\n\nexport default themeReducer\n","import {\n  CREATE_CHAT_ROOM,\n  GET_ALL_ROOMS,\n  SET_ALL_ROOMS,\n  SET_CURRENT_ROOM,\n  GET_CURRENT_CHAT_ROOM,\n  DELETE_CHAT_ROOM,\n  CREATE_CHAT_ROOM_PENDING,\n  GET_CHAT_ROOM_PENDING,\n  DELETE_CHAT_ROOM_PENDING,\n  GET_CURRENT_CHAT_ROOM_PENDING,\n  CHATROOM_API_ERROR,\n  GET_ALL_ROOMS_PENDING,\n  UPDATE_ROOMS_CREATED,\n  SET_ALL_MESSAGES,\n  GET_ALL_MESSAGES_PENDING,\n  SET_USER_DIMENSION,\n  ADD_MESSAGE\n} from '../actions/chatRoomActionTypes'\n\nconst initialPendingState = {\n  createChatRoomPending: false,\n  getAllRommsPending: false,\n  getAllMessagesPenging: false\n}\n\nconst initialState = {\n  ...initialPendingState,\n  currentRoom: {},\n  roomsCreated: [],\n  roomsInvited: [],\n  userDimension: '2rem',\n  messages: [],\n  error: null\n}\n\nexport default function chatRoomReducer (\n  state = initialState,\n  { type, payload, error }\n) {\n  switch (type) {\n    case SET_CURRENT_ROOM:\n      return { ...state, currentRoom: payload }\n    case UPDATE_ROOMS_CREATED:\n      return {...state, roomsCreated: [payload,...state.roomsCreated]}\n    case SET_ALL_MESSAGES:\n      return {...state, messages: payload}\n    case GET_ALL_MESSAGES_PENDING:\n      return {...state, getAllMessagesPenging: payload}\n    case ADD_MESSAGE:\n      return {...state, messages:[ ...state.messages,payload]}\n    case SET_USER_DIMENSION:\n      return {...state, userDimension: payload}\n    case SET_ALL_ROOMS:\n      return { ...state, roomsCreated: [...payload.created], roomsInvited: [...payload.invited] }\n    case CREATE_CHAT_ROOM_PENDING:\n      return { ...state, createChatRoomPending: payload }\n    case GET_ALL_ROOMS_PENDING:\n      return { ...state, getAllRommsPending: payload }\n    case CHATROOM_API_ERROR:\n      return { ...state, error: payload }\n    default:\n      return state\n  }\n}\n","import { combineReducers } from 'redux';\nimport authReducer from './authReducer';\nimport themeReducer from './themeReducer';\nimport chatRoomReducer from './chatRoomReducer';\n\nconst appReducer = combineReducers({\n  auth: authReducer,\n  theme: themeReducer,\n  room: chatRoomReducer\n});\n\nconst rootReducer = (state, action) => {\n//   if (action.type === 'LOGOUT') {\n//     state = action.payload;\n//   }\n  return appReducer(state, action);\n};\n\nexport default rootReducer;","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport rootReducer from '../reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(thunk))\n);\n\nexport default store;","export const chat_room = '/call/room/';\nexport const update_room_users = '/call/room/update_room_users/'\nexport const my_rooms = '/call/my_chat_rooms'","import axios from 'axios';\nimport toast from 'react-hot-toast';\nimport apiClient from '../helpers/apiClient';\nimport { chat_room, myrooms, update_room_users, my_rooms } from '../urls/chatRoom';\n\nimport {\n    CREATE_CHAT_ROOM,\n    GET_ALL_ROOMS,\n    SET_ALL_ROOMS,\n    SET_CURRENT_ROOM,\n    GET_CURRENT_CHAT_ROOM,\n    DELETE_CHAT_ROOM,\n    CREATE_CHAT_ROOM_PENDING,\n    GET_ALL_ROOMS_PENDING,\n    GET_CHAT_ROOM_PENDING,\n    DELETE_CHAT_ROOM_PENDING,\n    GET_CURRENT_CHAT_ROOM_PENDING,\n    CHATROOM_API_ERROR,\n    UPDATE_ROOMS_CREATED,\n    GET_ALL_MESSAGES_PENDING,\n    SET_USER_DIMENSION,\n    ADD_MESSAGE,\n    SET_ALL_MESSAGES\n} from './chatRoomActionTypes'\n\nconst apiDispatch = (actionType = '', data) => {\n    return {\n        type: actionType,\n        payload: data,\n    };\n};\n\nconst apiError = error => {\n    return {\n        type: CHATROOM_API_ERROR,\n        error\n    }\n}\n\nexport const createChatRoom = (data, callback = () => {}) => {\n    let url = chat_room;\n    console.log(data)\n        \n    return dispatch => {\n        dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, true));\n        dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, true));\n        apiClient\n            .post(url, data)\n            .then(res => {\n                console.log(res)\n                dispatch(apiDispatch(SET_CURRENT_ROOM, res.data));\n                dispatch(apiDispatch(UPDATE_ROOMS_CREATED, res.data));\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n                callback(res.data.id, res.data.sharing_id);\n            })\n            .catch(error => {\n                dispatch(apiError(error));\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n            })\n    }\n}\n\nexport const updateRoomUsers = (data, id, callback = () => {}) => {\n    let url = chat_room + id + \"/update_room_users/\";\n    console.log(data)\n    return dispatch => {\n        dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, true));\n        dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, true));\n        apiClient\n            .patch(url, data)\n            .then(res => {\n                console.log(res)\n                dispatch(apiDispatch(SET_CURRENT_ROOM, res.data));\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n                callback();\n            })\n            .catch(error => {\n                dispatch(apiError(error));\n                toast.error(error.response.data)\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n            })\n    }\n}\n\nexport const getRoomDetails = (id, callback = () => {}) => {\n    let url = chat_room + id;\n    console.log(\"fetch room details\")\n    return dispatch => {\n        dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, true));\n        dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, true));\n        apiClient\n            .get(url)\n            .then(res => {\n                console.log(res)\n                dispatch(apiDispatch(SET_CURRENT_ROOM, res.data));\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n                callback();\n            })\n            .catch(error => {\n                dispatch(apiError(error));\n                dispatch(apiDispatch(GET_CURRENT_CHAT_ROOM_PENDING, false));\n                dispatch(apiDispatch(CREATE_CHAT_ROOM_PENDING, false));\n            })\n    }\n}\n\nexport const getAllMessages = (id, callback = () => {}) => {\n    let url = chat_room + id + '/all_messages';\n    console.log(\"fetch messages\")\n    return dispatch => {\n        dispatch(apiDispatch(GET_ALL_MESSAGES_PENDING, true));\n        apiClient\n            .get(url)\n            .then(res => {\n                console.log(res)\n                dispatch(apiDispatch(SET_ALL_MESSAGES, res.data));\n                dispatch(apiDispatch(GET_ALL_MESSAGES_PENDING, false));\n                callback();\n            })\n            .catch(error => {\n                dispatch(apiError(error));\n                dispatch(apiDispatch(GET_ALL_MESSAGES_PENDING, false));\n                dispatch(apiDispatch(SET_ALL_MESSAGES, []));\n            })\n    }\n}\n\nexport const getAllRooms = () => {\n    let url = my_rooms;\n        \n    return dispatch => {\n        dispatch(apiDispatch(GET_ALL_ROOMS_PENDING, true));\n        apiClient\n            .get(url)\n            .then(res => {\n                console.log(res)\n                dispatch(apiDispatch(SET_ALL_ROOMS, res.data));\n                dispatch(apiDispatch(GET_ALL_ROOMS_PENDING, false));\n            })\n            .catch(error => {\n                dispatch(apiError(error));\n                dispatch(apiDispatch(GET_ALL_ROOMS_PENDING, false));\n            })\n    }\n}\n\nexport const addMessage = (msg) => {\n    return dispatch => {\n        dispatch(apiDispatch(ADD_MESSAGE, msg))\n    }\n}\n\nexport const setUserDimension = (dimension) => {\n    return dispatch => {\n        dispatch(apiDispatch(SET_USER_DIMENSION, dimension))\n    }\n}","export const CREATE_CHAT_ROOM = 'CREATE_CHAT_ROOM';\nexport const GET_ALL_ROOMS = 'GET_ALL_ROOMS';\nexport const SET_ALL_ROOMS = 'SET_ALL_ROOMS';\nexport const SET_CURRENT_ROOM = 'SET_CURRENT_ROOM';\nexport const GET_CURRENT_CHAT_ROOM = 'GET_CURRENT_CHAT_ROOM';\nexport const DELETE_CHAT_ROOM = 'DELETE_CHAT_ROOM';\nexport const UPDATE_ROOMS_CREATED = 'UPDATE_ROOMS_CREATED';\nexport const SET_ALL_MESSAGES = 'SET_ALL_MESSAGES';\nexport const ADD_MESSAGE = 'ADD_MESSAGE';\nexport const SET_USER_DIMENSION = 'SET_USER_DIMENSION';\n\nexport const CREATE_CHAT_ROOM_PENDING = 'CREATE_CHAT_ROOM_PENDING';\nexport const GET_ALL_ROOMS_PENDING = 'GET_ALL_ROOMS_PENDING';\nexport const GET_CHAT_ROOM_PENDING = 'GET_CHAT_ROOM_PENDING';\nexport const DELETE_CHAT_ROOM_PENDING = 'DELETE_CHAT_ROOM_PENDING';\nexport const GET_CURRENT_CHAT_ROOM_PENDING = 'GET_CURRENT_CHAT_ROOM_PENDING';\nexport const GET_ALL_MESSAGES_PENDING = 'GET_ALL_MESSAGES_PENDING';\n\nexport const CHATROOM_API_ERROR = 'CHATROOM_API_ERROR';","export const capitalizeFirstLetter = string => {\n  return string.charAt(0).toUpperCase() + string.slice(1)\n}\n\nexport const apiDispatch = (actionType = '', data) => {\n  return {\n    type: actionType,\n    payload: data\n  }\n}\n\nexport const getCookie = cname => {\n  let name = cname + '=';\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for (let i = 0; i < ca.length; i++) {\n    var c = ca[i];\n    while (c.charAt(0) == ' ') {\n      c = c.substring(1);\n    }\n    if (c.indexOf(name) == 0) {\n      return c.substring(name.length, c.length);\n    }\n  }\n  return '';\n};\n\nexport const apiError = type => error => {\n  return {\n    type: type,\n    error\n  }\n}\n\nconst monthData = [\n  'January',\n  'February',\n  'March',\n  'April',\n  'May',\n  'June',\n  'July',\n  'August',\n  'September',\n  'Octtober',\n  'November',\n  'December'\n]\n\nexport function getModifiedDate(date) {\n  let newDate = new Date(date)\n  return (\n    monthData[newDate.getMonth()] +\n    ' ' +\n    newDate.getDate() +\n    ', ' +\n    newDate.getFullYear()\n  )\n}\n\nexport const getInitials = (name = '') =>\n  name.split(' ').map(str => (str ? str[0].toUpperCase() : ''))\n","export const CHANGE_THEME = 'CHANGE_THEME';","export const SET_USER_DATA = 'SET_USER_DATA';\nexport const GET_USER_DATA = 'GET_USER_DATA';\nexport const SET_TOKEN = 'SET_TOKEN';\nexport const IS_LOGGED_IN = 'IS_LOGGED_IN';\n\nexport const LOGIN_PENDING = 'LOGIN_PENDING';\nexport const GET_USER_DATA_PENDING = 'GET_USER_DATA_PENDING';\n\nexport const USER_API_ERROR = 'USER_API_ERROR';"],"sourceRoot":""}