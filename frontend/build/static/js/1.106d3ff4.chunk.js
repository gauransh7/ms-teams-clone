(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[1,7],{199:function(e,t,o){"use strict";var n=o(30),r=o(290),a=o(295),c=o(189),s=o(301),i=o(294),l=o(156),u=o(0),d=o(203),j=(o(13),o(11)),m=o(214),b=o.n(m),h=o(211),g=o.n(h),O=o(2),f=Object(l.a)((function(e){return{Card:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText,margin:e.spacing(.4),width:"80%",cursor:"pointer",justifyContent:"space-between"},roomCardMainDiv:{height:"100%",width:"100%",display:"grid",alignItems:"center",justifyItems:"center"},icons:{color:e.palette.secondary.contrastText}}}));t.a=function(e){var t=Object(j.g)();console.log(e);var o=f(),l=Object(u.useState)(!1),m=Object(n.a)(l,2),h=m[0],p=m[1];return Object(O.jsxs)("div",{className:o.roomCardMainDiv,children:[Object(O.jsx)(r.a,{className:o.Card,clickable:!0,onClick:function(){return t.push("/room/".concat(e.room.id))},children:Object(O.jsxs)(a.a,{children:[Object(O.jsx)(c.a,{onClick:function(){return p(!0)},gutterBottom:!0,children:e.room&&e.room.room_name}),e.invite&&Object(O.jsx)(s.a,{label:"creater : ".concat(e.room.created_by.first_name)}),Object(O.jsxs)("div",{style:{marginInlineStart:"auto"},children:[!e.invite&&Object(O.jsx)(i.a,{children:Object(O.jsx)(g.a,{className:o.icons,onClick:function(e){e.stopPropagation(),p(!0)}})}),Object(O.jsx)(i.a,{children:Object(O.jsx)(b.a,{className:o.icons,onClick:function(o){o.stopPropagation(),t.push("/video/".concat(e.room.id,"/").concat(e.room.sharing_id))}})})]})]})}),h&&Object(O.jsx)(d.a,{room:e.room,onClick:function(e){return e.stopPropagation()},show:h,onClose:function(){return p(!1)}})]})}},200:function(e,t,o){"use strict";var n=o(76),r=o(0),a=o(13),c=o(11),s=o(290),i=o(291),l=o(189),u=o(56),d=o(199),j=o(156),m=o(2),b=Object(j.a)((function(e){return{roomsList:{width:"80%",display:"grid",justifyItems:"center",overflow:"hidden",paddingBottom:e.spacing(1),backgroundColor:e.palette.background,gridTemplateRows:"min-content",height:"80%"},list:Object(n.a)({overflowY:"scroll",maxHeight:window.screen.availHeight/1.3,width:"100%",display:"grid",justifyItems:"center",position:"absolute"},e.breakpoints.down("xs"),{maxHeight:window.screen.availHeight/2}),listHeading:{top:0,backgroundColor:e.palette.primary.main,width:"100%",height:"50%",marginLeft:"10%"},listWrapper:{position:"relative",width:"100%",height:"90%",overflow:"hidden",display:"grid"},webkitScrollbar:{width:0,background:"transparent"},webkitScrollbarThumb:{background:"#FF0000"}}}));t.a=Object(c.h)(Object(a.b)((function(e){return{user:e.auth.user,roomsCreated:e.room.roomsCreated,roomsInvited:e.room.roomsInvited}}),(function(e){return{createChatRoom:function(t,o){return e(Object(u.b)(t,o))},getAllRooms:function(){return e(Object(u.d)())}}}))((function(e){Object(c.g)();Object(r.useEffect)((function(){e.getAllRooms()}),[]);var t=b();return Object(m.jsxs)(s.a,{className:t.roomsList,children:[Object(m.jsx)(i.a,{color:"secondary",className:t.listHeading,children:Object(m.jsx)(l.a,{variant:"h5",children:e.heading})}),Object(m.jsx)(i.a,{className:t.listWrapper,children:Object(m.jsx)("div",{className:t.list,children:e.rooms.map((function(t){return Object(m.jsx)(d.a,{room:t,invite:"Your Invites"==e.heading})}))})})]})})))},202:function(e,t,o){"use strict";var n=o(76),r=o(0),a=o(13),c=o(11),s=o(189),i=o(190),l=o(56),u=(o(199),o(156)),d=o(200),j=o(2),m=Object(u.a)((function(e){return{roomDetailsDiv:{width:"100%",height:"60%"},roomList:Object(n.a)({height:"100%",width:"100%",display:"grid",justifyItems:"center"},e.breakpoints.down("xs"),{display:"none"}),title:{textAlign:"center"}}}));t.a=Object(c.h)(Object(a.b)((function(e){return{user:e.auth.user,roomsCreated:e.room.roomsCreated,roomsInvited:e.room.roomsInvited}}),(function(e){return{createChatRoom:function(t,o){return e(Object(l.b)(t,o))},getAllRooms:function(){return e(Object(l.d)())}}}))((function(e){var t=Object(c.g)();Object(r.useEffect)((function(){e.getAllRooms()}),[]);var o=m();return Object(j.jsxs)("div",{className:o.roomDetailsDiv,children:[Object(j.jsxs)("div",{className:o.roomList,children:[Object(j.jsx)(d.a,{heading:"Your rooms",rooms:e.roomsCreated.slice(0,2)}),Object(j.jsx)(d.a,{heading:"Your Invites",rooms:e.roomsInvited.slice(0,2)})]}),Object(j.jsx)(s.a,{variant:"h6",className:o.title,children:Object(j.jsx)(i.a,{onClick:function(){return t.push("/rooms")},children:"View All Rooms"})})]})})))},203:function(e,t,o){"use strict";var n=o(30),r=o(39),a=o(195),c=o(299),s=o(293),i=o(294),l=o(106),u=o(156),d=o(292),j=o(13),m=o(201),b=o.n(m),h=(o(204),o(0)),g=o(56),O=o(207),f=o(2),p=["show","room","onClose","label"],x=Object(u.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.secondary.main,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},textField:{}}}));t.a=Object(j.b)((function(e){return{currentRoom:e.room.currentRoom}}),(function(e){return{updateRoomUsers:function(t,o,n){return e(Object(g.g)(t,o,n))}}}))((function(e){var t=x(),o=e.show,u=(e.room,e.onClose),j=(e.label,Object(r.a)(e,p),Object(h.useState)("")),m=Object(n.a)(j,2),g=m[0],v=m[1];function w(){O.b.success("Added user"),v("")}return Object(f.jsx)(a.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,centered:!0,onClose:u,children:Object(f.jsx)(d.a,{in:o,children:Object(f.jsxs)("div",{className:t.paper,children:[Object(f.jsx)(O.a,{}),Object(f.jsx)("h2",{id:"transition-modal-title",children:e.room.room_name}),Object(f.jsx)("div",{id:"transition-modal-description",children:Object(f.jsx)(c.a,{color:"secondary",className:t.textfield,onChange:function(e){v(e.target.value)},value:g,name:"email",variant:"outlined",autoComplete:!1,label:"",placeholder:"Enter user email",InputProps:{endAdornment:Object(f.jsx)(s.a,{position:"end",children:Object(f.jsx)(i.a,{children:Object(f.jsx)(l.a,{onClick:function(){var t={email:g};e.updateRoomUsers(t,e.room.id,w)},children:Object(f.jsx)(b.a,{})})})})}})})]})})})}))},204:function(e,t,o){"use strict";o.r(t);var n=o(76),r=o(193),a=o(156),c=o(0),s=o(13),i=(o(25),o(56)),l=(o(202),o(200)),u=o(2),d=Object(a.a)((function(e){return{Rooms:Object(n.a)({display:"grid",gridAutoFlow:"column",justifyItems:"center",padding:e.spacing(2),alignItems:"center",position:"relative",height:"100%"},e.breakpoints.down("xs"),{gridAutoFlow:"row"})}}));t.default=Object(s.b)((function(e){return{user:e.auth.user,roomsCreated:e.room.roomsCreated,roomsInvited:e.room.roomsInvited}}),(function(e){return{getAllRooms:function(){return e(Object(i.d)())}}}))((function(e){Object(c.useEffect)((function(){e.getAllRooms()}),[]);var t=d();return Object(u.jsxs)(r.a,{className:t.Rooms,children:[Object(u.jsx)(l.a,{rooms:e.roomsCreated,heading:"Your Rooms"}),Object(u.jsx)(l.a,{rooms:e.roomsInvited,heading:"Your Invites"})]})}))},215:function(e,t,o){"use strict";var n=o(30),r=o(0),a=o(13),c=o(11),s=o(290),i=o(238),l=o(291),u=o(189),d=o(301),j=o(295),m=o(190),b=o(203),h=o(56),g=o(156),O=o(157),f=o.n(O),p=o(211),x=o.n(p),v=o(62),w=o(2),y=Object(g.a)((function(e){return{roomDataDiv:{width:"100%",display:"grid",justifyItems:"center",alignItems:"center"}}}));t.a=Object(c.h)(Object(a.b)((function(e){return{user:e.auth.user,currentRoom:e.room.currentRoom}}),(function(e){return{createChatRoom:function(t,o){return e(Object(h.b)(t,o))},getRoomDetails:function(){return e(Object(h.e)())}}}))((function(e){var t=Object(c.g)();Object(r.useEffect)((function(){}),[]);var o=y(),h=Object(r.useState)(!1),g=Object(n.a)(h,2),O=g[0],p=g[1],C=Object(a.c)((function(e){return e.room.currentRoom}));return Object(w.jsx)("div",{className:o.roomDataDiv,children:Object(w.jsxs)(s.a,{style:{textAlign:"center",maxWidth:"60%"},children:[Object(w.jsx)(i.a,{title:C&&C.room_name,subheader:Object(v.c)(C.created_on)}),Object(w.jsxs)(l.a,{children:[Object(w.jsx)(u.a,{style:{textAlign:"center"},variant:"h5",children:"Admin"}),Object(w.jsx)(d.a,{size:"medium",color:"default",label:"".concat(C.id&&C.created_by.email)})]}),Object(w.jsxs)(l.a,{children:[Object(w.jsx)(u.a,{style:{textAlign:"center"},variant:"h5",children:"All Users"}),C.id&&C.all_users.map((function(e){return Object(w.jsx)(d.a,{style:{margin:"0.2rem"},size:"medium",color:"secondary",label:"".concat(e.email)})}))]}),Object(w.jsxs)(j.a,{style:{justifyContent:"center"},children:[C.id&&C.created_by.pk==e.user.pk&&Object(w.jsx)(m.a,{variant:"contained",color:"secondary",className:o.createRoomButton,startIcon:Object(w.jsx)(x.a,{}),onClick:function(){return p(!0)},children:"Add User"}),e.meeting&&Object(w.jsx)(m.a,{variant:"contained",color:"secondary",className:o.createRoomButton,startIcon:Object(w.jsx)(f.a,{}),onClick:function(){t.push("/video/".concat(C.id,"/").concat(C.sharing_id))},children:"Join Meeting"}),O&&Object(w.jsx)(b.a,{room:C,show:O,onClose:function(){return p(!1)}})]})]})})})))},221:function(e,t,o){"use strict";var n=o(30),r=o(76),a=o(0),c=o(13),s=o(11),i=o(290),l=o(291),u=o(189),d=o(299),j=o(293),m=o(294),b=o(106),h=o(56),g=o(34),O=(o(212),o(156)),f=o(201),p=o.n(f),x=o(222),v=o(2),w=Object(O.a)((function(e){return{roomChatDiv:Object(r.a)({position:"relative",height:"90%",backgroundColor:e.palette.background.default},e.breakpoints.down("xs"),{position:"absolute",width:"100%",bottom:0}),textfield:{position:"absolute",bottom:"0px",width:"100%",backgroundColor:e.palette.primary.main},chatHeading:{top:"0px",backgroundColor:e.palette.primary.main},chatBoxMessages:Object(r.a)({padding:"2px",position:"relative",overflow:"hidden",height:"82%",width:"100%"},e.breakpoints.down("xs"),{height:"75%"}),messageList:{maxHeight:"100%",top:0,left:0,right:-e.spacing(2),position:"absolute",overflowY:"scroll"}}}));t.a=Object(s.h)(Object(c.b)((function(e){return{user:e.auth.user,currentRoom:e.room.currentRoom,messages:e.room.messages}}),(function(e){return{createChatRoom:function(t,o){return e(Object(h.b)(t,o))},getAllMessages:function(t,o){return e(Object(h.c)(t,o))},addMessage:function(t){return e(Object(h.a)(t))}}}))((function(e){Object(s.g)();Object(a.useEffect)((function(){return console.log("room chat"),console.log(e),e.getAllMessages(e.match.params.id),function(){g.a.close()}}),[]);var t=e.currentRoom;Object(a.useEffect)((function(){Boolean(g.a)&&g.a.socketRef&&g.a.close(),g.a.connect("".concat("http:"==window.location.protocol?"ws":"wss","://").concat(window.location.host.includes("localhost:")?"localhost:8000":window.location.hostname,"/ws/chat/").concat(e.currentRoom.sharing_id)),g.a.sendSignal("join room",{video:!1,audio:!1,onlyChat:!0}),g.a.on("message received",(function(t){t.user=JSON.parse(t.user),e.addMessage(t)}))}),[t.id]);var o=w(),r=Object(a.useState)(""),c=Object(n.a)(r,2),h=c[0],O=c[1];function f(){g.a.sendSignal("send_message",h),O("")}return Object(v.jsxs)(i.a,{className:o.roomChatDiv,children:[Object(v.jsx)(l.a,{color:"secondary",className:o.chatHeading,children:Object(v.jsx)(u.a,{variant:"h5",children:"Chat"})}),Object(v.jsx)(x.a,{}),Object(v.jsx)(d.a,{color:"secondary",className:o.textfield,onChange:function(e){O(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&f()},value:h,name:"message",variant:"outlined",autoComplete:!1,label:"",placeholder:"Enter your msg",InputProps:{endAdornment:Object(v.jsx)(j.a,{position:"end",children:Object(v.jsx)(m.a,{children:Object(v.jsx)(b.a,{onClick:f,children:Object(v.jsx)(p.a,{})})})})}})]})})))},222:function(e,t,o){"use strict";var n=o(76),r=o(0),a=o(13),c=o(11),s=o(193),i=o(191),l=o(155),u=o(237),d=o(56),j=(o(34),o(212)),m=o(156),b=o(2),h=Object(m.a)((function(e){return{roomChatDiv:{height:"100%"},textfield:{position:"absolute",bottom:"0px",width:"100%",backgroundColor:e.palette.primary.main},chatBoxMessages:{padding:"2px",position:"relative",overflow:"hidden",height:"85%",width:"100%"},messageList:Object(n.a)({maxHeight:"100%",top:0,left:0,right:-e.spacing(2),position:"absolute",overflowY:"scroll"},e.breakpoints.down("md"),{right:0})}}));t.a=Object(c.h)(Object(a.b)((function(e){return{user:e.auth.user,currentRoom:e.room.currentRoom,messages:e.room.messages}}),(function(e){return{createChatRoom:function(t,o){return e(Object(d.b)(t,o))},getAllMessages:function(t,o){return e(Object(d.c)(t,o))},addMessage:function(t){return e(Object(d.a)(t))}}}))((function(e){Object(c.g)();var t=Object(r.useRef)(),o=h();Object(r.useEffect)((function(){console.log("room chat"),console.log(e),e.getAllMessages(e.match.params.id)}),[]),Object(r.useEffect)((function(){t.current&&(console.log(t.current.scrollTop),t.current.scrollTop=t.current.scrollHeight,console.log(t.current.scrollTop))}),[t.current,e.messages.length]);e.currentRoom;return Object(b.jsx)(s.a,{className:o.chatBoxMessages,children:Object(b.jsx)(i.a,{ref:t,className:o.messageList,children:e.messages.map((function(t){return Object(b.jsx)(l.a,{children:Object(b.jsxs)(s.a,{container:!0,children:[Object(b.jsx)(s.a,{item:!0,xs:12,children:Object(b.jsx)(u.a,{align:t.user.pk==e.user.pk?"right":"left",disableTypography:!0,secondary:Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{style:{fontWeight:"bolder"},children:t.user.first_name})," ",Object(b.jsx)("span",{style:{fontWeight:"lighter",fontSize:"small"},children:Object(b.jsx)(j.a,{date:t.created_on})})]})})}),Object(b.jsx)(s.a,{item:!0,xs:12,children:Object(b.jsx)(u.a,{align:t.user.pk==e.user.pk?"right":"left",primary:t.message})})]})},t.id)}))})})})))},223:function(e,t,o){"use strict";var n=o(39),r=o(195),a=o(156),c=o(292),s=o(13),i=(o(204),o(0),o(56)),l=o(215),u=o(2),d=["show","onClose","label"],j=Object(a.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.secondary.main,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)},textField:{}}}));t.a=Object(s.b)((function(e){return{currentRoom:e.room.currentRoom}}),(function(e){return{updateRoomUsers:function(t,o,n){return e(Object(i.g)(t,o,n))}}}))((function(e){var t=j(),o=e.show,a=e.onClose;e.label,Object(n.a)(e,d);return Object(u.jsx)(r.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:o,centered:!0,onClose:a,children:Object(u.jsx)(c.a,{in:o,children:Object(u.jsx)(l.a,{meeting:e.meeting})})})}))}}]);
//# sourceMappingURL=1.106d3ff4.chunk.js.map